!function(t,e){"object"==typeof exports?module.exports=e(require("spin.js")):"function"==typeof define&&define.amd?define(["spin"],e):t.Ladda=e(t.Spinner)}(this,function(s){"use strict";function u(r){var a,i,o,n;if(void 0!==r)return r.querySelector(".ladda-label")||(r.innerHTML='<span class="ladda-label">'+r.innerHTML+"</span>"),(i=document.createElement("span")).className="ladda-spinner",r.appendChild(i),n={start:function(){return a||(32<(n=0===(n=(t=r).offsetHeight)?parseFloat(window.getComputedStyle(t).height):n)&&(n*=.8),t.hasAttribute("data-spinner-size")&&(n=parseInt(t.getAttribute("data-spinner-size"),10)),t.hasAttribute("data-spinner-color")&&(e=t.getAttribute("data-spinner-color")),a=new s({color:e||"#fff",lines:12,radius:t=.2*n,length:.6*t,width:t<7?2:3,zIndex:"auto",top:"auto",left:"auto",className:""})),r.setAttribute("disabled",""),r.setAttribute("data-loading",""),clearTimeout(o),a.spin(i),this.setProgress(0),this;var t,e,n},startAfter:function(t){return clearTimeout(o),o=setTimeout(function(){n.start()},t),this},stop:function(){return r.removeAttribute("disabled"),r.removeAttribute("data-loading"),clearTimeout(o),a&&(o=setTimeout(function(){a.stop()},1e3)),this},toggle:function(){return this.isLoading()?this.stop():this.start(),this},setProgress:function(t){t=Math.max(Math.min(t,1),0);var e=r.querySelector(".ladda-progress");0===t&&e&&e.parentNode?e.parentNode.removeChild(e):(e||((e=document.createElement("div")).className="ladda-progress",r.appendChild(e)),e.style.width=(t||0)*r.offsetWidth+"px")},enable:function(){return this.stop(),this},disable:function(){return this.stop(),r.setAttribute("disabled",""),this},isLoading:function(){return r.hasAttribute("data-loading")},remove:function(){clearTimeout(o),r.removeAttribute("disabled",""),r.removeAttribute("data-loading",""),a&&(a.stop(),a=null);for(var t=0,e=d.length;t<e;t++)if(n===d[t]){d.splice(t,1);break}}},d.push(n),n;console.warn("Ladda button target must be defined.")}var d=[];return{bind:function(t,s){s=s||{};var e=[];"string"==typeof t?e=function(t){for(var e=[],n=0;t.length>n;n++)e.push(t[n]);return e}(document.querySelectorAll(t)):"object"==typeof t&&"string"==typeof t.nodeName&&(e=[t]);for(var n=0,r=e.length;n<r;n++)!function(){var a,i,o=e[n];"function"==typeof o.addEventListener&&(a=u(o),i=-1,o.addEventListener("click",function(){var t=!0,e=function(t,e){for(;t.parentNode&&t.tagName!==e;)t=t.parentNode;return e===t.tagName?t:void 0}(o,"FORM");if(void 0!==e)for(var n=function(t){for(var e=["input","textarea"],n=[],r=0;r<e.length;r++)for(var a=t.getElementsByTagName(e[r]),i=0;a.length>i;i++)a[i].hasAttribute("required")&&n.push(a[i]);return n}(e),r=0;n.length>r;r++)""===n[r].value.replace(/^\s+|\s+$/g,"")&&(t=!1);t&&(a.startAfter(1),"number"==typeof s.timeout&&(clearTimeout(i),i=setTimeout(a.stop,s.timeout)),"function"==typeof s.callback)&&s.callback.apply(null,[a])},!1))}()},create:u,stopAll:function(){for(var t=0,e=d.length;t<e;t++)d[t].stop()}}});